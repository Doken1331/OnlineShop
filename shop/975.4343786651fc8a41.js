"use strict";(self.webpackChunkShop=self.webpackChunkShop||[]).push([[975],{3975:(st,h,a)=>{a.r(h),a.d(h,{AdminModule:()=>at});var d=a(6895),s=a(5139),Z=a(5861),r=a(433),t=a(8274),g=a(1178);function v(n,i){1&n&&(t.TgZ(0,"small"),t._uU(1,"Enter Email"),t.qZA())}function A(n,i){1&n&&(t.TgZ(0,"small"),t._uU(1,"Enter valid Email"),t.qZA())}function T(n,i){if(1&n&&(t.TgZ(0,"div",8),t.YNc(1,v,2,0,"small",9),t.YNc(2,A,2,0,"small",9),t.qZA()),2&n){const e=t.oxw();let o,l;t.xp6(1),t.Q6J("ngIf",null==(o=e.form.get("email"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==(l=e.form.get("email"))||null==l.errors?null:l.errors.email)}}function b(n,i){1&n&&(t.TgZ(0,"small"),t._uU(1,"Enter Password"),t.qZA())}function q(n,i){if(1&n&&(t.TgZ(0,"small"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);let o;t.xp6(1),t.AsE(" Password must be at least ",null==(o=e.form.get("password"))||null==o.errors||null==o.errors.minlength?null:o.errors.minlength.requiredLength," characters. Now he ",null==(o=e.form.get("password"))||null==o.errors||null==o.errors.minlength?null:o.errors.minlength.actualLength," ")}}function x(n,i){if(1&n&&(t.TgZ(0,"div",8),t.YNc(1,b,2,0,"small",9),t.YNc(2,q,2,2,"small",9),t.qZA()),2&n){const e=t.oxw();let o,l;t.xp6(1),t.Q6J("ngIf",null==(o=e.form.get("password"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==(l=e.form.get("password"))||null==l.errors?null:l.errors.minlength)}}let C=(()=>{class n{constructor(e,o){this.auth=e,this.router=o,this.submitted=!1}ngOnInit(){this.form=new r.nJ({email:new r.p4(null,[r.kI.required,r.kI.email]),password:new r.p4(null,[r.kI.required,r.kI.minLength(6)])})}submit(){var e=this;return(0,Z.Z)(function*(){e.submitted=!0;const o={email:e.form.value.email,password:e.form.value.password,returnSecureToken:!0};yield e.auth.login(o).then(()=>{e.router.navigate(["/admin","dashboard"])},l=>{}),e.submitted=!1})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.e),t.Y36(s.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login-page"]],decls:15,vars:4,consts:[[3,"formGroup","ngSubmit"],[1,"form-control"],["for","email"],["id","email","type","email","formControlName","email"],["class","validation",4,"ngIf"],["for","password"],["id","password","type","password","formControlName","password"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"validation"],[4,"ngIf"]],template:function(e,o){if(1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(1,"h2"),t._uU(2,"Login as administrator"),t.qZA(),t.TgZ(3,"div",1)(4,"label",2),t._uU(5,"Email"),t.qZA(),t._UZ(6,"input",3),t.YNc(7,T,3,2,"div",4),t.qZA(),t.TgZ(8,"div",1)(9,"label",5),t._uU(10,"Password"),t.qZA(),t._UZ(11,"input",6),t.YNc(12,x,3,2,"div",4),t.qZA(),t.TgZ(13,"button",7),t._uU(14,"Logon"),t.qZA()()),2&e){let l,u;t.Q6J("formGroup",o.form),t.xp6(7),t.Q6J("ngIf",(null==(l=o.form.get("email"))?null:l.touched)&&(null==(l=o.form.get("email"))?null:l.invalid)),t.xp6(5),t.Q6J("ngIf",(null==(u=o.form.get("password"))?null:u.touched)&&(null==(u=o.form.get("password"))?null:u.invalid)),t.xp6(1),t.Q6J("disabled",o.form.invalid||o.submitted)}},dependencies:[d.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}"]}),n})();const U=function(){return["/admin","dashboard"]},I=function(){return["/admin","add"]},P=function(){return["/admin","orders"]};function y(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ul")(1,"li",5)(2,"a",6),t._uU(3,"Dashboard"),t.qZA()(),t.TgZ(4,"li",5)(5,"a",6),t._uU(6,"Add product"),t.qZA()(),t.TgZ(7,"li",5)(8,"a",6),t._uU(9,"Orders"),t.qZA()(),t.TgZ(10,"li",5)(11,"a",7),t.NdJ("click",function(l){t.CHM(e);const u=t.oxw();return t.KtG(u.logout(l))}),t._uU(12,"Logout"),t.qZA()()()}2&n&&(t.xp6(2),t.Q6J("routerLink",t.DdM(3,U)),t.xp6(3),t.Q6J("routerLink",t.DdM(4,I)),t.xp6(3),t.Q6J("routerLink",t.DdM(5,P)))}const N=function(){return["/admin","login"]};function w(n,i){1&n&&(t.TgZ(0,"ul")(1,"li",5)(2,"a",6),t._uU(3,"Login"),t.qZA()()()),2&n&&(t.xp6(2),t.Q6J("routerLink",t.DdM(1,N)))}let J=(()=>{class n{constructor(e,o){this.auth=e,this.router=o}ngOnInit(){}logout(e){event?.preventDefault(),this.auth.logout(),this.router.navigate(["/admin","login"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.e),t.Y36(s.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-layout"]],decls:9,vars:2,consts:[[1,"navbar","bg-dark"],["routerLink","/"],[4,"ngIf","ngIfElse"],["login",""],[1,"container"],["routerLinkActive","active"],[3,"routerLink"],["href","#",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"nav",0)(1,"h1")(2,"a",1),t._uU(3,"OnlineShop"),t.qZA()(),t.YNc(4,y,13,6,"ul",2),t.YNc(5,w,4,2,"ng-template",null,3,t.W1O),t.qZA(),t.TgZ(7,"div",4),t._UZ(8,"router-outlet"),t.qZA()),2&e){const l=t.MAs(6);t.xp6(4),t.Q6J("ngIf",o.auth.isAuthenticated())("ngIfElse",l)}},dependencies:[d.O5,s.lC,s.yS,s.Od]}),n})();var _=a(266),f=a(9074);function L(n,i){1&n&&(t.TgZ(0,"small"),t._uU(1,"Chose product type"),t.qZA())}function O(n,i){if(1&n&&(t.TgZ(0,"div",17),t.YNc(1,L,2,0,"small",18),t.qZA()),2&n){const e=t.oxw();let o;t.xp6(1),t.Q6J("ngIf",null==(o=e.form.get("type"))||null==o.errors?null:o.errors.required)}}function Y(n,i){1&n&&(t.TgZ(0,"small"),t._uU(1,"Chose product name"),t.qZA())}function S(n,i){if(1&n&&(t.TgZ(0,"div",17),t.YNc(1,Y,2,0,"small",18),t.qZA()),2&n){const e=t.oxw();let o;t.xp6(1),t.Q6J("ngIf",null==(o=e.form.get("title"))||null==o.errors?null:o.errors.required)}}function Q(n,i){1&n&&(t.TgZ(0,"small"),t._uU(1,"Chose product price"),t.qZA())}function E(n,i){if(1&n&&(t.TgZ(0,"div",17),t.YNc(1,Q,2,0,"small",18),t.qZA()),2&n){const e=t.oxw();let o;t.xp6(1),t.Q6J("ngIf",null==(o=e.form.get("price"))||null==o.errors?null:o.errors.required)}}let F=(()=>{class n{constructor(e,o){this.productServ=e,this.router=o,this.submitted=!1}ngOnInit(){this.form=new r.cw({type:new r.NI(null,r.kI.required),title:new r.NI(null,r.kI.required),photo:new r.NI(null,r.kI.required),info:new r.NI(null,r.kI.required),price:new r.NI(null,r.kI.required)})}submit(){if(this.form.invalid)return;this.submitted=!0;const e={type:this.form.value.type,title:this.form.value.title,photo:this.form.value.photo,info:this.form.value.info,price:this.form.value.price,date:new Date};this.productServ.create(e).subscribe(o=>{this.submitted=!1,this.router.navigate(["/"])})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.M),t.Y36(s.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-page"]],decls:34,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"text-center"],[1,"form-control"],["for","type"],["formControlName","type"],["value","Phone"],["value","Tablet"],["value","Laptop"],["class","validation",4,"ngIf"],["for","title"],["id","title","title","title","formControlName","title"],["for","photo"],["formControlName","photo"],["formControlName","info"],["for","price"],["id","price","price","price","formControlName","price"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"validation"],[4,"ngIf"]],template:function(e,o){if(1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(1,"h2",1),t._uU(2,"Add product"),t.qZA(),t.TgZ(3,"div",2)(4,"label",3),t._uU(5,"Type"),t.qZA(),t.TgZ(6,"select",4)(7,"option",5),t._uU(8,"Phone"),t.qZA(),t.TgZ(9,"option",6),t._uU(10,"Tablet"),t.qZA(),t.TgZ(11,"option",7),t._uU(12,"Laptop"),t.qZA()(),t.YNc(13,O,2,1,"div",8),t.qZA(),t.TgZ(14,"div",2)(15,"label",9),t._uU(16,"Name"),t.qZA(),t._UZ(17,"input",10),t.YNc(18,S,2,1,"div",8),t.qZA(),t.TgZ(19,"div",2)(20,"label",11),t._uU(21,"Photo"),t.qZA(),t._UZ(22,"quill-editor",12),t.qZA(),t.TgZ(23,"div",2)(24,"label",3),t._uU(25,"Information"),t.qZA(),t._UZ(26,"quill-editor",13),t.qZA(),t.TgZ(27,"div",2)(28,"label",14),t._uU(29,"Price"),t.qZA(),t._UZ(30,"input",15),t.YNc(31,E,2,1,"div",8),t.qZA(),t.TgZ(32,"button",16),t._uU(33,"Add"),t.qZA()()),2&e){let l,u,p;t.Q6J("formGroup",o.form),t.xp6(13),t.Q6J("ngIf",(null==(l=o.form.get("type"))?null:l.touched)&&(null==(l=o.form.get("type"))?null:l.invalid)),t.xp6(5),t.Q6J("ngIf",(null==(u=o.form.get("title"))?null:u.touched)&&(null==(u=o.form.get("title"))?null:u.invalid)),t.xp6(13),t.Q6J("ngIf",(null==(p=o.form.get("price"))?null:p.touched)&&(null==(p=o.form.get("price"))?null:p.invalid)),t.xp6(1),t.Q6J("disabled",o.form.invalid||o.submitted)}},dependencies:[d.O5,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.sg,r.u,f.g6]}),n})();var c=a(727);let k=(()=>{class n{transform(e,o=""){return o.trim()?e.filter(l=>l.title?.toLowerCase().includes(o.toLowerCase())):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"search",type:n,pure:!0}),n})();const M=function(n){return["/admin","product",n,"edit"]};function D(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"td")(11,"button",6),t._uU(12,"Open"),t.qZA()(),t.TgZ(13,"td")(14,"button",7),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.remove(u.id))}),t._uU(15,"Delete"),t.qZA()()()}if(2&n){const e=i.$implicit,o=i.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Oqu(e.price),t.xp6(2),t.Oqu(t.xi3(9,5,e.date,"short")),t.xp6(3),t.Q6J("routerLink",t.VKq(8,M,e.id))}}function G(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"h2",2),t._uU(2,"Dashboard of products"),t.qZA(),t.TgZ(3,"div",3)(4,"input",4),t.NdJ("ngModelChange",function(l){t.CHM(e);const u=t.oxw();return t.KtG(u.productName=l)}),t.qZA()(),t.TgZ(5,"table")(6,"thead")(7,"tr")(8,"th"),t._uU(9,"ID"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Name"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Price"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Data of creation"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Open"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Delete"),t.qZA()()(),t.TgZ(20,"tbody"),t.YNc(21,D,16,10,"tr",5),t.ALo(22,"search"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.productName),t.xp6(17),t.Q6J("ngForOf",t.xi3(22,2,e.products,e.productName))}}function j(n,i){1&n&&(t.TgZ(0,"p",2),t._uU(1,"Loading..."),t.qZA())}let K=(()=>{class n{constructor(e){this.productServ=e,this.products=new Array,this.pSub=new c.w0,this.rSub=new c.w0}ngOnInit(){this.productServ.getAll().subscribe(e=>{this.products=e})}ngOnDestroy(){this.pSub&&this.pSub.unsubscribe(),this.rSub&&this.rSub.unsubscribe()}remove(e){this.rSub=this.productServ.remove(e).subscribe(()=>{this.products=this.products.filter(o=>o.id!==e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard-page"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[1,"text-center"],[1,"form-control"],["type","text","placeholder","Find a product...",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"btn","btn-dark",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(e,o){if(1&e&&(t.YNc(0,G,23,5,"div",0),t.YNc(1,j,2,0,"ng-template",null,1,t.W1O)),2&e){const l=t.MAs(2);t.Q6J("ngIf",o.products.length)("ngIfElse",l)}},dependencies:[d.sg,d.O5,r.Fj,r.JJ,r.On,s.rH,d.uU,k]}),n})();var X=a(3900);function $(n,i){1&n&&(t.TgZ(0,"small"),t._uU(1,"Chose product type"),t.qZA())}function H(n,i){if(1&n&&(t.TgZ(0,"div",19),t.YNc(1,$,2,0,"small",20),t.qZA()),2&n){const e=t.oxw(2);let o;t.xp6(1),t.Q6J("ngIf",null==(o=e.form.get("type"))||null==o.errors?null:o.errors.required)}}function z(n,i){1&n&&(t.TgZ(0,"small"),t._uU(1,"Chose product name"),t.qZA())}function B(n,i){if(1&n&&(t.TgZ(0,"div",19),t.YNc(1,z,2,0,"small",20),t.qZA()),2&n){const e=t.oxw(2);let o;t.xp6(1),t.Q6J("ngIf",null==(o=e.form.get("title"))||null==o.errors?null:o.errors.required)}}function W(n,i){1&n&&(t.TgZ(0,"small"),t._uU(1,"Chose product price"),t.qZA())}function R(n,i){if(1&n&&(t.TgZ(0,"div",19),t.YNc(1,W,2,0,"small",20),t.qZA()),2&n){const e=t.oxw(2);let o;t.xp6(1),t.Q6J("ngIf",null==(o=e.form.get("price"))||null==o.errors?null:o.errors.required)}}function V(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"form",2),t.NdJ("ngSubmit",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.submit())}),t.TgZ(2,"h2",3),t._uU(3,"Add product"),t.qZA(),t.TgZ(4,"div",4)(5,"label",5),t._uU(6,"Type"),t.qZA(),t.TgZ(7,"select",6)(8,"option",7),t._uU(9,"Phone"),t.qZA(),t.TgZ(10,"option",8),t._uU(11,"Tablet"),t.qZA(),t.TgZ(12,"option",9),t._uU(13,"Laptop"),t.qZA()(),t.YNc(14,H,2,1,"div",10),t.qZA(),t.TgZ(15,"div",4)(16,"label",11),t._uU(17,"Name"),t.qZA(),t._UZ(18,"input",12),t.YNc(19,B,2,1,"div",10),t.qZA(),t.TgZ(20,"div",4)(21,"label",13),t._uU(22,"Photo"),t.qZA(),t._UZ(23,"quill-editor",14),t.qZA(),t.TgZ(24,"div",4)(25,"label",5),t._uU(26,"Information"),t.qZA(),t._UZ(27,"quill-editor",15),t.qZA(),t.TgZ(28,"div",4)(29,"label",16),t._uU(30,"Price"),t.qZA(),t._UZ(31,"input",17),t.YNc(32,R,2,1,"div",10),t.qZA(),t.TgZ(33,"button",18),t._uU(34,"Add"),t.qZA()()()}if(2&n){const e=t.oxw();let o,l,u;t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(13),t.Q6J("ngIf",(null==(o=e.form.get("type"))?null:o.touched)&&(null==(o=e.form.get("type"))?null:o.invalid)),t.xp6(5),t.Q6J("ngIf",(null==(l=e.form.get("title"))?null:l.touched)&&(null==(l=e.form.get("title"))?null:l.invalid)),t.xp6(13),t.Q6J("ngIf",(null==(u=e.form.get("price"))?null:u.touched)&&(null==(u=e.form.get("price"))?null:u.invalid)),t.xp6(1),t.Q6J("disabled",e.form.invalid||e.submitted)}}function tt(n,i){1&n&&(t.TgZ(0,"p",3),t._uU(1,"Loading..."),t.qZA())}let et=(()=>{class n{constructor(e,o,l){this.route=e,this.productServ=o,this.router=l,this.submitted=!1}ngOnInit(){this.route.params.pipe((0,X.w)(e=>this.productServ.getById(e.id))).subscribe(e=>{this.product=e,this.form=new r.cw({type:new r.NI(this.product.type,r.kI.required),title:new r.NI(this.product.title,r.kI.required),photo:new r.NI(this.product.photo,r.kI.required),info:new r.NI(this.product.info,r.kI.required),price:new r.NI(this.product.price,r.kI.required)})})}submit(){this.form.invalid||(this.submitted=!0,this.productServ.update({...this.product,type:this.form.value.type,title:this.form.value.title,photo:this.form.value.photo,info:this.form.value.info,price:this.form.value.price,date:new Date}).subscribe(e=>{this.submitted=!1,this.router.navigate(["/admin","dashboard"])}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.gz),t.Y36(_.M),t.Y36(s.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-page"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[3,"formGroup","ngSubmit"],[1,"text-center"],[1,"form-control"],["for","type"],["formControlName","type"],["value","Phone"],["value","Tablet"],["value","Laptop"],["class","validation",4,"ngIf"],["for","title"],["id","title","title","title","formControlName","title"],["for","photo"],["formControlName","photo"],["formControlName","info"],["for","price"],["id","price","price","price","formControlName","price"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"validation"],[4,"ngIf"]],template:function(e,o){if(1&e&&(t.YNc(0,V,35,5,"div",0),t.YNc(1,tt,2,0,"ng-template",null,1,t.W1O)),2&e){const l=t.MAs(2);t.Q6J("ngIf",o.form)("ngIfElse",l)}},dependencies:[d.O5,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.sg,r.u,f.g6]}),n})();var nt=a(1390);function ot(n,i){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.title," ")}}function rt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t.YNc(11,ot,2,1,"div",3),t.qZA(),t.TgZ(12,"td")(13,"div",2),t._uU(14),t.qZA(),t.TgZ(15,"div",2),t._uU(16),t.qZA()(),t.TgZ(17,"td")(18,"button",4),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.remove(u.id))}),t._uU(19,"Complited"),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(t.xi3(3,7,e.date,"medium")),t.xp6(3),t.Oqu(e.phone),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.address),t.xp6(2),t.Q6J("ngForOf",e.orders),t.xp6(3),t.hij(" ",e.price,"$ "),t.xp6(2),t.hij(" ",e.payment," ")}}function it(n,i){if(1&n&&(t.TgZ(0,"div")(1,"h2",2),t._uU(2,"Table of orders:"),t.qZA(),t.TgZ(3,"table")(4,"thead")(5,"tr")(6,"th"),t._uU(7,"Date"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Phone"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Name"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Address"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Products"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Price"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Status"),t.qZA()()(),t.TgZ(20,"tbody"),t.YNc(21,rt,20,10,"tr",3),t.qZA()()()),2&n){const e=t.oxw();t.xp6(21),t.Q6J("ngForOf",e.orders)}}function lt(n,i){1&n&&(t.TgZ(0,"p",2),t._uU(1,"No orders..."),t.qZA())}let ut=(()=>{class n{constructor(e){this.orderServ=e,this.orders=new Array,this.pSub=new c.w0,this.rSub=new c.w0}ngOnInit(){this.orderServ.getAll().subscribe(e=>{this.orders=e})}ngOnDestroy(){this.pSub&&this.pSub.unsubscribe(),this.rSub&&this.rSub.unsubscribe()}remove(e){this.rSub=this.orderServ.remove(e).subscribe(()=>{this.orders=this.orders.filter(o=>o.id!==e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(nt.p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-orders-page"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noOrders",""],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click"]],template:function(e,o){if(1&e&&(t.YNc(0,it,22,1,"div",0),t.YNc(1,lt,2,0,"ng-template",null,1,t.W1O)),2&e){const l=t.MAs(2);t.Q6J("ngIf",o.orders.length)("ngIfElse",l)}},dependencies:[d.sg,d.O5,d.uU]}),n})(),m=(()=>{class n{constructor(e,o){this.auth=e,this.router=o}canActivate(e,o){return!!this.auth.isAuthenticated()||(this.auth.logout(),this.router.navigate(["/admin","login"]),!1)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(g.e),t.LFG(s.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),at=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,r.u5,r.UX,f.fi.forRoot(),s.Bz.forChild([{path:"",component:J,children:[{path:"",redirectTo:"/admin/login",pathMatch:"full"},{path:"login",component:C},{path:"dashboard",component:K,canActivate:[m]},{path:"add",component:F,canActivate:[m]},{path:"orders",component:ut,canActivate:[m]},{path:"product/:id/edit",component:et,canActivate:[m]}]}]),s.Bz]}),n})()}}]);